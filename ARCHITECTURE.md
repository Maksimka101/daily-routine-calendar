# ะััะธัะตะบัััะฐ: Daily Routine Calendar

---

## ะขะตัะฝะธัะตัะบะธะต ััะตะฑะพะฒะฐะฝะธั

### ะฏะทัะบ ะธ ัะธะฟะธะทะฐัะธั

**JavaScript ั JSDoc** ะดะปั ัะธะฟะธะทะฐัะธะธ

ะะตัั ะบะพะด ะดะพะปะถะตะฝ ะฑััั ะฝะฐะฟะธัะฐะฝ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ JSDoc ะบะพะผะผะตะฝัะฐัะธะตะฒ ะดะปั ะพะฟะธัะฐะฝะธั ัะธะฟะพะฒ. ะญัะพ ะฟะพะทะฒะพะปะธั ะฟะพะปััะธัั ะฐะฒัะพะบะพะผะฟะปะธั ะธ ะฟัะพะฒะตัะบั ัะธะฟะพะฒ ะฒ IDE ะฑะตะท ะบะพะผะฟะธะปััะธะธ TypeScript.

ะัะธะผะตั:
```javascript
/**
 * @typedef {Object} Mark
 * @property {string} id - ัะฟะตัะธะฐะปัะฝัะน id ะดะปั ะดะตัะพะปัะฝัั ะธะปะธ UUID ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั
 * @property {string} scheduleId
 * @property {string} emoji
 * @property {string} title
 * @property {string} description
 * @property {string} time
 */

/**
 * @typedef {Object} Schedule
 * @property {string} id
 * @property {string} name
 * @property {string} wakeTime
 * @property {string} bedtime
 */

/**
 * @param {string} scheduleId
 * @returns {Mark[]}
 */
function getMarks(scheduleId) {
  // ...
}
```

### Frontend ััะตะนะผะฒะพัะบ ะธ ััะธะปะธ

**Vue 3** ัะตัะตะท CDN

```html
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
```

**Tailwind CSS** ัะตัะตะท CDN

```html
<script src="https://cdn.tailwindcss.com"></script>
```

---

## ะะพะดะตะปั ะดะฐะฝะฝัั

### Mark (ะะฐัะตัะบะฐ)

```javascript
{
  id: string,              // ัะฟะตัะธะฐะปัะฝัะน id ะดะปั ะดะตัะพะปัะฝัั ะธะปะธ UUID ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั
  scheduleId: string,      // ะฟัะธะฒัะทะบะฐ ะบ ัะฐัะฟะธัะฐะฝะธั
  emoji: string,           // 'โ', '๐๏ธ'
  title: string,           // 'ะะพัะปะตะดะฝะธะน ะบะพัะต'
  description: string,     // 'ะะพัะตะธะฝ ะฒัะฒะพะดะธััั ~10 ัะฐัะพะฒ'
  time: string             // '12:00' (ัะธะบัะธัะพะฒะฐะฝะฝะพะต ะฒัะตะผั)
}
```

**ะขะธะฟั id ะทะฐัะตัะตะบ:**
- **ะะตัะพะปัะฝัะต ะทะฐัะตัะบะธ** โ ะธะผะตัั ะฟัะตะดะพะฟัะตะดะตะปัะฝะฝัะต id: `wake`, `breakfast`, `coffee`, `lunch`, `gym`, `dinner`, `no-screens`, `sleep`
- **ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะทะฐัะตัะบะธ** โ id ะณะตะฝะตัะธััะตััั ัะตัะตะท UUID

ะญัะพ ัะฐะทะดะตะปะตะฝะธะต ะฝัะถะฝะพ ะดะปั ะปะพะณะธะบะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะดะฒะธะณะฐ ะฒัะตะผะตะฝะธ (ัะผ. ะฝะธะถะต).

### Schedule (ะะฐัะฟะธัะฐะฝะธะต)

```javascript
{
  id: string,
  name: string,            // 'ะะฑััะฝัะน ะดะตะฝั', 'ะะตะท ัะฟะพััะทะฐะปะฐ'
  wakeTime: string,        // '07:00' โ ะฒัะตะผั ะฟัะพะฑัะถะดะตะฝะธั
  bedtime: string          // '22:00' โ ะฒัะตะผั ะพััะพะดะฐ ะบะพ ัะฝั
}
```

---

## Repository Layer

ะัะฒะตัะฐะตั ะทะฐ ััะฐะฝะตะฝะธะต ะธ ะฟะพะปััะตะฝะธะต ะดะฐะฝะฝัั. ะะฐะฑะพัะฐะตั ั localStorage.

### ScheduleRepository

```
getAll(): Schedule[]
  - ะะพะทะฒัะฐัะฐะตั ะฒัะต ัะฐัะฟะธัะฐะฝะธั ะธะท localStorage
  - ะัะปะธ ะฟัััะพ, ะฒะพะทะฒัะฐัะฐะตั ะฟัััะพะน ะผะฐััะธะฒ

save(schedule: Schedule): Schedule
  - ะัะปะธ schedule.id ะฟัััะพะน โ ะณะตะฝะตัะธััะตั UUID, ัะพะทะดะฐัั ะฝะพะฒัั ะทะฐะฟะธัั
  - ะัะปะธ schedule.id ะตััั โ ะพะฑะฝะพะฒะปัะตั ัััะตััะฒััััั ะทะฐะฟะธัั
  - ะกะพััะฐะฝัะตั ะฒ localStorage
  - ะะพะทะฒัะฐัะฐะตั ัะพััะฐะฝัะฝะฝัะน ะพะฑัะตะบั

delete(id: string): void
  - ะฃะดะฐะปัะตั ัะฐัะฟะธัะฐะฝะธะต ะฟะพ id
  - ะขะฐะบะถะต ัะดะฐะปัะตั ะฒัะต ัะฒัะทะฐะฝะฝัะต ะทะฐัะตัะบะธ (ะฒัะทัะฒะฐะตั MarkRepository.deleteByScheduleId)
```

### MarkRepository

```
getByScheduleId(scheduleId: string): Mark[]
  - ะะพะทะฒัะฐัะฐะตั ะฒัะต ะทะฐัะตัะบะธ ะดะปั ัะบะฐะทะฐะฝะฝะพะณะพ ัะฐัะฟะธัะฐะฝะธั
  - ะััะพััะธัะพะฒะฐะฝั ะฟะพ ะฒัะตะผะตะฝะธ (time)

save(mark: Mark): Mark
  - ะัะปะธ mark.id ะฟัััะพะน โ ะณะตะฝะตัะธััะตั UUID (ะฟะพะปัะทะพะฒะฐัะตะปััะบะฐั ะทะฐัะตัะบะฐ)
  - ะัะปะธ mark.id ะตััั โ ะพะฑะฝะพะฒะปัะตั ัััะตััะฒััััั ะทะฐะฟะธัั
  - ะกะพััะฐะฝัะตั ะฒ localStorage
  - ะะพะทะฒัะฐัะฐะตั ัะพััะฐะฝัะฝะฝัะน ะพะฑัะตะบั

isDefaultMark(id: string): boolean
  - ะะพะทะฒัะฐัะฐะตั true ะตัะปะธ id ะธะท ัะฟะธัะบะฐ ะดะตัะพะปัะฝัั: wake, breakfast, coffee, lunch, gym, dinner, no-screens, sleep
  - ะัะฟะพะปัะทัะตััั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั, ะฝัะถะฝะพ ะปะธ ัะดะฒะธะณะฐัั ะทะฐัะตัะบั

delete(id: string): void
  - ะฃะดะฐะปัะตั ะทะฐัะตัะบั ะฟะพ id

deleteByScheduleId(scheduleId: string): void
  - ะฃะดะฐะปัะตั ะฒัะต ะทะฐัะตัะบะธ ั ัะบะฐะทะฐะฝะฝัะผ scheduleId
  - ะัะทัะฒะฐะตััั ะฟัะธ ัะดะฐะปะตะฝะธะธ ัะฐัะฟะธัะฐะฝะธั
```

---

## Business Logic Layer

ะัะฒะตัะฐะตั ะทะฐ ะฑะธะทะฝะตั-ะพะฟะตัะฐัะธะธ. ะัะฟะพะปัะทัะตั Repository ะดะปั ัะฐะฑะพัั ั ะดะฐะฝะฝัะผะธ.

### ScheduleService

```
getSchedules(): Schedule[]
  - ะะพะทะฒัะฐัะฐะตั ScheduleRepository.getAll()

createSchedule(name: string, wakeTime: string, bedtime: string): Schedule
  - ะกะพะทะดะฐัั ะฝะพะฒะพะต ัะฐัะฟะธัะฐะฝะธะต ั ัะบะฐะทะฐะฝะฝัะผะธ ะฟะฐัะฐะผะตััะฐะผะธ
  - ะะพะฑะฐะฒะปัะตั ะดะตัะพะปัะฝัะต ะทะฐัะตัะบะธ (ัะตัะตะท MarkService.createDefaultMarks)
  - ะะพะทะฒัะฐัะฐะตั ัะพะทะดะฐะฝะฝะพะต ัะฐัะฟะธัะฐะฝะธะต

updateSchedule(id: string, data: {name?, wakeTime?, bedtime?}): Schedule
  - ะะฑะฝะพะฒะปัะตั ะฟะพะปั ัะฐัะฟะธัะฐะฝะธั
  - ะัะปะธ ะธะทะผะตะฝะธะปะธัั wakeTime ะธะปะธ bedtime โ ะฒัะทัะฒะฐะตั shiftDefaultMarks
  - ะะพะทะฒัะฐัะฐะตั ะพะฑะฝะพะฒะปัะฝะฝะพะต ัะฐัะฟะธัะฐะฝะธะต

deleteSchedule(id: string): void
  - ะฃะดะฐะปัะตั ัะฐัะฟะธัะฐะฝะธะต ะธ ะฒัะต ะตะณะพ ะทะฐัะตัะบะธ

shiftDefaultMarks(scheduleId: string, oldWakeTime: string, newWakeTime: string, oldBedtime: string, newBedtime: string): void
  - ะกะดะฒะธะณะฐะตั ะฒัะตะผั ะขะะะฌะะ ะดะตัะพะปัะฝัั ะทะฐัะตัะตะบ (id ะฝะต UUID)
  - ะฃััะตะฝะฝะธะต ะทะฐัะตัะบะธ (wake, breakfast, coffee, lunch) ัะดะฒะธะณะฐัััั ะฝะฐ ัะฐะทะฝะธัั wakeTime
  - ะะตัะตัะฝะธะต ะทะฐัะตัะบะธ (gym, dinner, no-screens, sleep) ัะดะฒะธะณะฐัััั ะฝะฐ ัะฐะทะฝะธัั bedtime
  - ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะทะฐัะตัะบะธ (UUID) ะะ ัะดะฒะธะณะฐัััั
```

### MarkService

```
getMarks(scheduleId: string): Mark[]
  - ะะพะทะฒัะฐัะฐะตั MarkRepository.getByScheduleId(scheduleId)

createMark(scheduleId: string, data: {emoji, title, description, time}): Mark
  - ะกะพะทะดะฐัั ะฝะพะฒัั ะทะฐัะตัะบั ะฒ ัะบะฐะทะฐะฝะฝะพะผ ัะฐัะฟะธัะฐะฝะธะธ
  - ะะพะทะฒัะฐัะฐะตั ัะพะทะดะฐะฝะฝัั ะทะฐัะตัะบั

updateMark(id: string, data: {emoji?, title?, description?, time?}): Mark
  - ะะฑะฝะพะฒะปัะตั ะฟะพะปั ะทะฐัะตัะบะธ
  - ะะพะทะฒัะฐัะฐะตั ะพะฑะฝะพะฒะปัะฝะฝัั ะทะฐัะตัะบั

deleteMark(id: string): void
  - ะฃะดะฐะปัะตั ะทะฐัะตัะบั

createDefaultMarks(scheduleId: string, wakeTime: string, bedtime: string): Mark[]
  - ะกะพะทะดะฐัั ะฝะฐะฑะพั ะดะตัะพะปัะฝัั ะทะฐัะตัะตะบ ะดะปั ะฝะพะฒะพะณะพ ัะฐัะฟะธัะฐะฝะธั
  - ะัะตะผั ะทะฐัะตัะตะบ ะฒััะธัะปัะตััั ะพัะฝะพัะธัะตะปัะฝะพ wakeTime ะธ bedtime
  - ะะพะทะฒัะฐัะฐะตั ะผะฐััะธะฒ ัะพะทะดะฐะฝะฝัั ะทะฐัะตัะตะบ
```

---

## ะะตัะพะปัะฝัะต ะทะฐัะตัะบะธ

ะัะธ ัะพะทะดะฐะฝะธะธ ะฝะพะฒะพะณะพ ัะฐัะฟะธัะฐะฝะธั ะดะพะฑะฐะฒะปััััั ะทะฐัะตัะบะธ ัะพ ัะฟะตัะธะฐะปัะฝัะผะธ id.

**ะััะฟะฟะฐ "ัััะพ"** โ ัะดะฒะธะณะฐัััั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ wakeTime, ะฝะฐะฟัะธะผะตั:
```javascript
{ id: 'wake',      emoji: 'โ๏ธ', title: 'ะะพะดััะผ',         description: '', time: '07:00' }
{ id: 'breakfast', emoji: '๐ณ', title: 'ะะฐะฒััะฐะบ',        description: '', time: '07:30' }
{ id: 'coffee',    emoji: 'โ', title: 'ะะพัะปะตะดะฝะธะน ะบะพัะต', description: 'ะะพัะตะธะฝ ะฒัะฒะพะดะธััั ~10 ัะฐัะพะฒ', time: '12:00' }
{ id: 'lunch',     emoji: '๐ฝ๏ธ', title: 'ะะฑะตะด',           description: '', time: '13:00' }
```

**ะััะฟะฟะฐ "ะฒะตัะตั"** โ ัะดะฒะธะณะฐัััั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ bedtime, ะฝะฐะฟัะธะผะตั:
```javascript
{ id: 'gym',        emoji: '๐๏ธ', title: 'ะกะฟะพััะทะฐะป',       description: 'ะะพะตััั ัะณะปะตะฒะพะดั ะทะฐ 1.5ั ะดะพ ััะตะฝะธัะพะฒะบะธ', time: '18:00' }
{ id: 'dinner',     emoji: '๐ฒ', title: 'ะฃะถะธะฝ',           description: 'ะะต ะตััั ะทะฐ 2-3 ัะฐัะฐ ะดะพ ัะฝะฐ', time: '19:00' }
{ id: 'no-screens', emoji: '๐ต', title: 'ะะตะท ัะบัะฐะฝะพะฒ',    description: 'ะกะธะฝะธะน ัะฒะตั ะผะตัะฐะตั ะผะตะปะฐัะพะฝะธะฝั', time: '21:00' }
{ id: 'sleep',      emoji: '๐', title: 'ะกะพะฝ',            description: 'ะกะฟะพะบะพะนะฝะพะน ะฝะพัะธ!', time: '22:00' }
```

**ะะพะณะธะบะฐ ัะดะฒะธะณะฐ:**
- ะะพะปัะทะพะฒะฐัะตะปั ะผะตะฝัะตั wakeTime ั 07:00 ะฝะฐ 09:00 (ัะฐะทะฝะธัะฐ +2 ัะฐัะฐ)
- ะัะต ะทะฐัะตัะบะธ ะณััะฟะฟั "ัััะพ" ัะดะฒะธะณะฐัััั ะฝะฐ +2 ัะฐัะฐ
- ะะฐัะตัะบะธ ะณััะฟะฟั "ะฒะตัะตั" ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะต ะทะฐัะตัะบะธ (UUID) ะพััะฐัััั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน

---

## ะกัััะบัััะฐ localStorage

```javascript
// ะะปัั: 'schedules'
[
  { id: 'uuid-1', name: 'ะะฑััะฝัะน ะดะตะฝั', wakeTime: '07:00', bedtime: '22:00' },
  { id: 'uuid-2', name: 'ะะตะท ัะฟะพััะทะฐะปะฐ', wakeTime: '08:00', bedtime: '23:00' }
]

// ะะปัั: 'marks'
[
  // ะะตัะพะปัะฝัะต ะทะฐัะตัะบะธ (ัะฟะตัะธะฐะปัะฝัะต id)
  { id: 'wake', scheduleId: 'uuid-1', emoji: 'โ๏ธ', title: 'ะะพะดััะผ', description: '', time: '07:00' },
  { id: 'coffee', scheduleId: 'uuid-1', emoji: 'โ', title: 'ะะพัะต', description: '...', time: '12:00' },
  { id: 'gym', scheduleId: 'uuid-1', emoji: '๐๏ธ', title: 'ะะฐะป', description: '...', time: '18:00' },
  // ะะพะปัะทะพะฒะฐัะตะปััะบะฐั ะทะฐัะตัะบะฐ (UUID)
  { id: 'a1b2c3d4-...', scheduleId: 'uuid-1', emoji: '๐', title: 'ะกะพะทะฒะพะฝ', description: '', time: '15:00' },
  // ...
]
```

---

## UI Components Layer

ะะพะผะฟะพะฝะตะฝัั Vue 3, ะพัะฒะตัะฐััะธะต ะทะฐ ะพัะพะฑัะฐะถะตะฝะธะต UI.

### AppHeader

**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `src/components/AppHeader.js`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะผะฟะพะฝะตะฝั ัะฐะฟะบะธ ั ะฒะบะปะฐะดะบะฐะผะธ ัะฐัะฟะธัะฐะฝะธะน ะธ ะฝะฐัััะพะนะบะฐะผะธ ะฒัะตะผะตะฝะธ

**Props:**
- `schedules: Array` โ ัะฟะธัะพะบ ะฒัะตั ัะฐัะฟะธัะฐะฝะธะน
- `activeScheduleIndex: Number` โ ะธะฝะดะตะบั ะฐะบัะธะฒะฝะพะน ะฒะบะปะฐะดะบะธ
- `activeSchedule: Object` โ ัะตะบััะตะต ะฐะบัะธะฒะฝะพะต ัะฐัะฟะธัะฐะฝะธะต

**Emits:**
- `update:activeScheduleIndex` โ ะฟัะธ ะฟะตัะตะบะปััะตะฝะธะธ ะฒะบะปะฐะดะบะธ
- `createSchedule(name: string)` โ ะฟัะธ ัะพะทะดะฐะฝะธะธ ะฝะพะฒะพะณะพ ัะฐัะฟะธัะฐะฝะธั

**ะะฝัััะตะฝะฝะธะน State:**
- `isCreatingSchedule: boolean` โ ัะตะถะธะผ ัะพะทะดะฐะฝะธั ะฒะบะปะฐะดะบะธ
- `newScheduleName: string` โ ะธะผั ะฝะพะฒะพะน ะฒะบะปะฐะดะบะธ

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะคะธะบัะธัะพะฒะฐะฝะฝะฐั ะฒััะพัะฐ 52px ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ัะบะฐัะบะพะฒ
- Hover effect ั ะบะฐััะพัะบะพะน ะฝะฐ ัะพะฝะต (ะบะปะฐัั `.header-btn`)
- ะะฝะพะฟะบะธ ัะพะทะดะฐะฝะธั (โ/โ) ะฒัััะพะตะฝั ะฒ border input'ะฐ

### CalendarBody

**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `src/components/CalendarBody.js`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะผะฟะพะฝะตะฝั ะดัะตะฒะพะฒะธะดะฝะพะณะพ ัะฐัะฟะธัะฐะฝะธั ั ะทะฐัะตัะบะฐะผะธ

**Props:**
- `marks: Array` โ ัะฟะธัะพะบ ะทะฐัะตัะตะบ ะดะปั ะพัะพะฑัะฐะถะตะฝะธั
- `currentTime: Date` โ ัะตะบััะตะต ะฒัะตะผั ะดะปั ะบัะฐัะฝะพะน ะปะธะฝะธะธ

**Computed:**
- `sortedMarks` โ ะทะฐัะตัะบะธ, ะพััะพััะธัะพะฒะฐะฝะฝัะต ะฟะพ ะฒัะตะผะตะฝะธ
- `timeRange` โ ะดะธะฐะฟะฐะทะพะฝ ะฒัะตะผะตะฝะธ ะดะปั ะพัะพะฑัะฐะถะตะฝะธั
- `svgHeight` โ ะฒััะธัะปะตะฝะฝะฐั ะฒััะพัะฐ SVG ะบะฐะปะตะฝะดะฐัั
- `currentTimeYPosition` โ ะฟะพะทะธัะธั ะบัะฐัะฝะพะน ะปะธะฝะธะธ

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะัะพะฟะพััะธะพะฝะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต (60px = 1 ัะฐั)
- ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฐััะตั ะฒััะพัั ะฝะฐ ะพัะฝะพะฒะต ะทะฐัะตัะตะบ
- ะัะฐัะฝะฐั ะปะธะฝะธั ัะตะบััะตะณะพ ะฒัะตะผะตะฝะธ ั ัะพัะบะพะน

---

## ะะธะฐะณัะฐะผะผะฐ ะทะฐะฒะธัะธะผะพััะตะน

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ             UI Components               โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโ   โ
โ  โ  AppHeader  โ    โ CalendarBody  โ   โ
โ  โโโโโโโโฌโโโโโโโ    โโโโโโโโโฌโโโโโโโโ   โ
โโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโ
          โ                    โ
          โผ                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ            Business Logic               โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโ  โ
โ  โ ScheduleService โ โ  MarkService  โ  โ
โ  โโโโโโโโโโฌโโโโโโโโโ โโโโโโโโโฌโโโโโโโโ  โ
โโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโ
            โ                  โ
            โผ                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Repository                 โ
โ  โโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโ  โ
โ  โScheduleRepositoryโ โMarkRepositoryโ  โ
โ  โโโโโโโโโโฌโโโโโโโโโโ โโโโโโโโฌโโโโโโโโ  โ
โโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโ
            โ                  โ
            โผ                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ             localStorage                โ
โ    'schedules'          'marks'         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```
